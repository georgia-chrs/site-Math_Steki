<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Μηχανογραφικό - Μαθητικό Στέκι</title>
  <link rel="stylesheet" href="../style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;400&display=swap" rel="stylesheet">
  <style>
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .filters-section {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      align-items: end;
    }
    
    .filter-group {
      display: flex;
      flex-direction: column;
      min-width: 150px;
    }
    
    .filter-group label {
      font-weight: bold;
      margin-bottom: 5px;
      color: #5b3c2a;
    }
    
    .filter-group select {
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 14px;
    }
    
    .clear-btn {
      background: #6c757d;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 5px;
      cursor: pointer;
      height: fit-content;
    }
    
    .clear-btn:hover {
      background: #5a6268;
    }
    
    .pdf-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .pdf-item {
      background: white;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }
    
    .pdf-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }
    
    .pdf-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .pdf-icon {
      width: 40px;
      height: 40px;
      margin-right: 15px;
      color: #d32f2f;
    }
    
    .pdf-title {
      font-weight: bold;
      font-size: 16px;
      color: #5b3c2a;
      margin: 0;
    }
    
    .pdf-info {
      margin-bottom: 15px;
    }
    
    .pdf-meta {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      color: #666;
      margin-bottom: 5px;
    }
    
    .pdf-description {
      font-size: 14px;
      color: #666;
      line-height: 1.4;
    }
    
    .pdf-actions {
      display: flex;
      gap: 10px;
    }
    
    .btn-view {
      flex: 1;
      background: #28a745;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      font-size: 14px;
    }
    
    .btn-view:hover {
      background: #218838;
    }
    
    .btn-download {
      flex: 1;
      background: #5a1503;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      font-size: 14px;
    }
    
    .btn-download:hover {
      background: #5a1503;
    }
    
    .btn-view:disabled,
    .btn-download:disabled {
      background: #ccc;
      cursor: not-allowed;
      opacity: 0.6;
    }
    
    .btn-view:disabled:hover,
    .btn-download:disabled:hover {
      background: #ccc;
    }
    
    .loading {
      text-align: center;
      padding: 40px;
      color: #666;
      font-size: 18px;
    }
    
    .no-files {
      text-align: center;
      padding: 40px;
      color: #666;
    }
    
    .no-files h3 {
      margin-bottom: 10px;
    }
    
    .pdf-badge {
      display: inline-block;
      background: #5b3c2a;
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-left: 10px;
    }
    
    .info-notice {
      background: #fff3cd;
      border: 1px solid #ffeeba;
      color: #856404;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
    }
    
    .info-notice a {
      color: #5b3c2a;
      font-weight: bold;
    }
    
    .description-section {
      background: #e8f4f8;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      border-left: 4px solid #5a1503;
    }
    
    .description-section h2 {
      margin-top: 0;
      color: #5b3c2a;
    }
    
    .specialty-badge {
      display: inline-block;
      background: #5a1503;
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-left: 5px;
    }

    .filters-sidebar {
      flex: 0 0 250px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .filter-dropdown {
      position: relative;
    }
    
    .filter-button {
      width: 100%;
      background: #f08955;
      border: 2px solid transparent;
      border-radius: 15px;
      padding: 8px 40px 8px 16px;
      font-size: 16px;
      font-weight: 500;
      color: #eaeaea;
      text-align: left;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }
    
    .filter-button:hover {
      background: #ff7c4ce0;
      border-color: #ffffff;
    }
    
    .filter-button.active {
      background: #ff7c4ce0;
      border-color: #ffffff;
    }
    
    .filter-button::after {
      content: '▼';
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      transition: transform 0.2s ease;
    }
    
    .filter-button.active::after {
      transform: translateY(-50%) rotate(180deg);
    }
    
    .filter-options {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ffb8a1;
      border-top: none;
      border-radius: 0 0 8px 8px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .filter-options.show {
      display: block;
    }
    
    .filter-option {
      padding: 10px 16px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      border-bottom: 1px solid #faf9f8;
    }
    
    .filter-option:hover {
      background: #ffcaa7;
    }
    
    .filter-option:last-child {
      border-bottom: none;
    }
    
    .filter-option.selected {
      background: #fdf0e3;
      color: #d25a19;
      font-weight: 500;
    }
    
    .content-area {
      flex: 1;
    }
    
    .clear-filters-btn {
      background: #461e00;
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: background-color 0.2s ease;
      margin-top: 10px;
    }
    
    .clear-filters-btn:hover {
      background: #d86710;
    }
    
  </style>
</head>
<body>
  <header>
      <div class="topbar">
        <div class="logo"><img src="logo.png" alt="logo"></div>
        <nav>
          <a href="#">Αρχική Σελίδα</a>
          <a href="#">Προγράμματα</a>
          <a href="#">Πανελλαδικές Εξετάσεις</a>
          <a href="#">Φωτογραφίες</a>
          <a href="#">Σχετικά με εμάς</a>
        </nav>
        <div class="icons">
          <a href="#"><img src="\elements\Group 17.svg" alt="fb" class="facebook-icon"></a>
          <a href="#"><img src="\elements\mdi_instagram.svg" alt="insta" class="instagram-icon"></a>
          <a href="#"><img src="\elements\phone.svg" alt="phone"></a>
          <a href="#"><img src="\elements\mail.svg" alt="mail"></a>
        </div>
        <a href="../index2.html" class="login-btn" style="text-decoration: none;">Είσοδος</a>
      </div>
  </header>
  
  <main>
    <div class="container">
      <h1>Μηχανογραφικό Δελτίο</h1>
      <div class="main-content" style="display: flex; gap: 30px; margin-top: 20px;">
        <!-- Sidebar Φίλτρων αριστερά -->
        <div class="filters-sidebar">
          <div class="filter-dropdown">
            <button class="filter-button" id="lykeio-btn">Τύπος Λυκείου</button>
            <div class="filter-options" id="lykeio-options">
              <div class="filter-option" data-value="">Όλα τα Λύκεια</div>
              <div class="filter-option" data-value="ΓΕΛ">ΓΕΛ (Γενικό Λύκειο)</div>
              <div class="filter-option" data-value="ΕΠΑΛ">ΕΠΑΛ (Επαγγελματικό Λύκειο)</div>
            </div>
          </div>
          <div class="filter-dropdown">
            <button class="filter-button" id="field-btn">Πεδίο Σπουδών</button>
            <div class="filter-options" id="field-options">
              <div class="filter-option" data-value="">Όλα τα πεδία</div>
              <div class="filter-option" data-value="Θετικές Επιστήμες">Θετικές Επιστήμες</div>
              <div class="filter-option" data-value="Ανθρωπιστικές Επιστήμες">Ανθρωπιστικές Επιστήμες</div>
              <div class="filter-option" data-value="Οικονομικές Επιστήμες">Οικονομικές Επιστήμες</div>
              <div class="filter-option" data-value="Τεχνολογικές Επιστήμες">Τεχνολογικές Επιστήμες</div>
              <div class="filter-option" data-value="Επιστήμες Υγείας">Επιστήμες Υγείας</div>
              <div class="filter-option" data-value="Καλές Τέχνες">Καλές Τέχνες</div>
              <div class="filter-option" data-value="Αθλητισμός">Αθλητισμός</div>
            </div>
          </div>
          <div class="filter-dropdown">
            <button class="filter-button" id="specialty-btn">Ειδικά Μαθήματα</button>
            <div class="filter-options" id="specialty-options">
              <div class="filter-option" data-value="">Όλα τα ειδικά μαθήματα</div>
              <div class="filter-option" data-value="Μουσική">Μουσική</div>
              <div class="filter-option" data-value="Εικαστικά">Εικαστικά</div>
              <div class="filter-option" data-value="Φυσική Αγωγή">Φυσική Αγωγή</div>
              <div class="filter-option" data-value="Χορός">Χορός</div>
              <div class="filter-option" data-value="Θεατρικές Σπουδές">Θεατρικές Σπουδές</div>
              <div class="filter-option" data-value="Αρχιτεκτονική">Αρχιτεκτονική</div>
              <div class="filter-option" data-value="Ξένες Γλώσσες">Ξένες Γλώσσες</div>
              <div class="filter-option" data-value="Τεχνολογικά">Τεχνολογικά</div>
            </div>
          </div>
          <button id="clear-filters-btn" class="clear-filters-btn"
                   onmouseover="this.style.background='#F7C19C'; this.style.color='#BC5E29'; this.style.boxShadow='0 0 0 2px rgba(183, 54, 22, 0.495)'"
                  onmouseout="this.style.background='#4d2c1e'; this.style.color='#fff'; this.style.boxShadow='none'"
                  style="background: #4d2c1e;
                    color: #fff;
                    border: none;
                    border-radius: 20px;
                    padding: 0.5rem 1.5rem;
                    font-weight: 700;
                    font-size:small;
                    cursor: pointer;
                    transition: all 0.2s;">Καθαρισμός Φίλτρων</button>
        </div>
        <!-- Περιεχόμενο δεξιά -->
        <div class="content-area" style="flex: 1;">
          <!-- Ειδοποίηση για backend status -->
          <div id="backend-status" class="info-notice" style="display: none; background: #fff3cd; border-color: #ffeeba; color: #856404;">
            <strong> Προσοχή:</strong> 
            <span id="backend-status-text"></span>
          </div>
          <!-- Πληροφορίες αρχείων -->
          <div id="files-info" class="info-notice" style="display: none;">
            <strong> Πληροφορίες:</strong> 
            <span id="files-count-text"></span>
          </div>
          <!-- Περιοχή PDF αρχείων -->
          <div id="pdf-container" class="pdf-grid">
            <!-- Τα PDF θα φορτωθούν δυναμικά από JavaScript -->
            <div class="loading">Φόρτωση οδηγών μηχανογραφικού...</div>
          </div>
          <!-- Μήνυμα όταν δεν υπάρχουν αρχεία -->
          <div id="no-files-message" class="no-files" style="display: none;">
            <h3>Δεν υπάρχουν διαθέσιμα αρχεία</h3>
            <p>Δεν βρέθηκαν οδηγοί μηχανογραφικού που να ταιριάζουν με τα κριτήρια αναζήτησης.</p>
          </div>
        </div>
      </div>

      <!-- Μήνυμα όταν δεν υπάρχουν αρχεία -->
      <div id="no-files-message" class="no-files" style="display: none;">
        <h3>Δεν υπάρχουν διαθέσιμα αρχεία</h3>
        <p>Δεν βρέθηκαν οδηγοί μηχανογραφικού που να ταιριάζουν με τα κριτήρια αναζήτησης.</p>
      </div>

    </div>
  </main>
  <footer>
    <div class="footer-content">
      <div class="footer-logo">Μαθητικό Στέκι</div>
      <div class="footer-links"  data-id="footer-links">
        <span>Καθηγητές:</span>
        <span>...</span>
      </div>
      <div class="footer-map" >
        <img src="map.png" alt="Χάρτης">
      </div>
    </div>
    <div class="footer-bottom">
      &copy; 2025 Μαθητικό Στέκι
    </div>
  </footer>
  <script src="../main.js"></script>
  <script src="../client-text.js"></script>
  <script>
    // Δυναμική φόρτωση PDF αρχείων μηχανογραφικού
    let allPDFs = [];
    let isBackendAvailable = false;
    
    // Φόρτωση αρχείων PDF από το backend
    async function loadPDFs() {
      const loadingDiv = document.querySelector('.loading');
      if (loadingDiv) loadingDiv.style.display = 'block';
      
      try {
        const response = await fetch('/api/mixanografiko');
        if (response.ok) {
          allPDFs = await response.json();
          isBackendAvailable = true;
          displayPDFs(allPDFs);
          updateFilesInfo(allPDFs.length);
          showBackendStatus();
        } else {
          throw new Error('Σφάλμα στη λήψη δεδομένων από το backend');
        }
      } catch (error) {
        console.warn('Backend δεν είναι διαθέσιμο, χρήση sample δεδομένων:', error);
        // Fallback σε sample data αν το backend δεν είναι διαθέσιμο
        isBackendAvailable = false;
        loadSampleData();
      } finally {
        if (loadingDiv) loadingDiv.style.display = 'none';
      }
    }
    
    // Αρχικό load sample δεδομένων αν δεν υπάρχει backend
    allPDFs = [
      {
        id: 1,
        title: "Οδηγός Μηχανογραφικού ΓΕΛ Θετικές Επιστήμες",
        lykeio: "ΓΕΛ",
        field: "Θετικές Επιστήμες",
        specialty: "",
        description: "Πλήρης οδηγός για τη συμπλήρωση του μηχανογραφικού για υποψηφίους θετικών επιστημών",
        filename: "odigos_mixanografikoy_gel_thetikes.pdf",
        file_size: "2.1 MB",
        upload_date: "2024-02-15"
      },
      {
        id: 2,
        title: "Πίνακας Αντιστοιχίας Σχολών Καλών Τεχνών",
        lykeio: "ΓΕΛ",
        field: "Καλές Τέχνες", 
        specialty: "Εικαστικά",
        description: "Αναλυτικός πίνακας με τις σχολές καλών τεχνών και τα μαθήματα που εξετάζουν",
        filename: "pinakas_antistixias_kales_texnes.pdf",
        file_size: "1.8 MB",
        upload_date: "2024-02-10"
      },
      {
        id: 3,
        title: "Μηχανογραφικό ΕΠΑΛ Τεχνολογικών Σπουδών",
        lykeio: "ΕΠΑΛ",
        field: "Τεχνολογικές Επιστήμες",
        specialty: "Τεχνολογικά",
        description: "Οδηγός για απόφοιτους ΕΠΑΛ που θέλουν να συνεχίσουν σε τεχνολογικές σχολές",
        filename: "mixanografiko_epal_texnologikes.pdf",
        file_size: "1.5 MB",
        upload_date: "2024-02-05"
      },
      {
        id: 4,
        title: "Ειδικά Μαθήματα Μουσικής - Οδηγίες",
        lykeio: "ΓΕΛ",
        field: "Καλές Τέχνες",
        specialty: "Μουσική",
        description: "Οδηγίες για τις εξετάσεις ειδικών μαθημάτων μουσικής και επιλογή σχολών",
        filename: "eidika_mathimata_mousiki.pdf",
        file_size: "1.2 MB",
        upload_date: "2024-01-30"
      },
      {
        id: 5,
        title: "Σχολές Φυσικής Αγωγής - Μηχανογραφικό",
        lykeio: "ΓΕΛ",
        field: "Αθλητισμός",
        specialty: "Φυσική Αγωγή",
        description: "Πληροφορίες για τις σχολές φυσικής αγωγής και αθλητισμού",
        filename: "scholes_fysikis_agogis.pdf",
        file_size: "1.7 MB",
        upload_date: "2024-01-25"
      },
      {
        id: 6,
        title: "Ανθρωπιστικές Σπουδές - Πλήρης Οδηγός",
        lykeio: "ΓΕΛ",
        field: "Ανθρωπιστικές Επιστήμες",
        specialty: "",
        description: "Αναλυτικός οδηγός για τις ανθρωπιστικές σπουδές και τις επιλογές σχολών",
        filename: "anthropistikes_spoydes_odigos.pdf",
        file_size: "2.3 MB",
        upload_date: "2024-01-20"
      }
    ];
    
    document.addEventListener('DOMContentLoaded', function() {
      displayPDFs(allPDFs);
      updateFilesInfo(allPDFs.length);
      filterPDFs();
    });
    
    // Fallback function με sample data
    function loadSampleData() {
      allPDFs = [
      {
        id: 1,
        title: "Οδηγός Μηχανογραφικού ΓΕΛ Θετικές Επιστήμες",
        lykeio: "ΓΕΛ",
        field: "Θετικές Επιστήμες",
        specialty: "",
        description: "Πλήρης οδηγός για τη συμπλήρωση του μηχανογραφικού για υποψηφίους θετικών επιστημών",
        filename: "odigos_mixanografikoy_gel_thetikes.pdf",
        file_size: "2.1 MB",
        upload_date: "2024-02-15"
      },
      {
        id: 2,
        title: "Πίνακας Αντιστοιχίας Σχολών Καλών Τεχνών",
        lykeio: "ΓΕΛ",
        field: "Καλές Τέχνες", 
        specialty: "Εικαστικά",
        description: "Αναλυτικός πίνακας με τις σχολές καλών τεχνών και τα μαθήματα που εξετάζουν",
        filename: "pinakas_antistixias_kales_texnes.pdf",
        file_size: "1.8 MB",
        upload_date: "2024-02-10"
      },
      {
        id: 3,
        title: "Μηχανογραφικό ΕΠΑΛ Τεχνολογικών Σπουδών",
        lykeio: "ΕΠΑΛ",
        field: "Τεχνολογικές Επιστήμες",
        specialty: "Τεχνολογικά",
        description: "Οδηγός για απόφοιτους ΕΠΑΛ που θέλουν να συνεχίσουν σε τεχνολογικές σχολές",
        filename: "mixanografiko_epal_texnologikes.pdf",
        file_size: "1.5 MB",
        upload_date: "2024-02-05"
      },
      {
        id: 4,
        title: "Ειδικά Μαθήματα Μουσικής - Οδηγίες",
        lykeio: "ΓΕΛ",
        field: "Καλές Τέχνες",
        specialty: "Μουσική",
        description: "Οδηγίες για τις εξετάσεις ειδικών μαθημάτων μουσικής και επιλογή σχολών",
        filename: "eidika_mathimata_mousiki.pdf",
        file_size: "1.2 MB",
        upload_date: "2024-01-30"
      },
      {
        id: 5,
        title: "Σχολές Φυσικής Αγωγής - Μηχανογραφικό",
        lykeio: "ΓΕΛ",
        field: "Αθλητισμός",
        specialty: "Φυσική Αγωγή",
        description: "Πληροφορίες για τις σχολές φυσικής αγωγής και αθλητισμού",
        filename: "scholes_fysikis_agogis.pdf",
        file_size: "1.7 MB",
        upload_date: "2024-01-25"
      },
      {
        id: 6,
        title: "Ανθρωπιστικές Σπουδές - Πλήρης Οδηγός",
        lykeio: "ΓΕΛ",
        field: "Ανθρωπιστικές Επιστήμες",
        specialty: "",
        description: "Αναλυτικός οδηγός για τις ανθρωπιστικές σπουδές και τις επιλογές σχολών",
        filename: "anthropistikes_spoydes_odigos.pdf",
        file_size: "2.3 MB",
        upload_date: "2024-01-20"
      }
    ];
    
    displayPDFs(allPDFs);
    updateFilesInfo(allPDFs.length);
    showBackendStatus();
    }
    
    // Εμφάνιση PDF αρχείων
    function displayPDFs(pdfs) {
      const container = document.getElementById('pdf-container');
      const noFilesMessage = document.getElementById('no-files-message');
      
      if (pdfs.length === 0) {
        container.style.display = 'none';
        noFilesMessage.style.display = 'block';
        return;
      }
      
      container.style.display = 'grid';
      noFilesMessage.style.display = 'none';
      
      container.innerHTML = pdfs.map(pdf => `
        <div class="pdf-item">
          <div class="pdf-header">
            <svg class="pdf-icon" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
            </svg>
            <h3 class="pdf-title">${pdf.title}</h3>
          </div>
          
          <div class="pdf-info">
            <div class="pdf-meta">
              <span><strong>Λύκειο:</strong> ${pdf.lykeio}</span>
              <span><strong>Μέγεθος:</strong> ${pdf.file_size}</span>
            </div>
            <div class="pdf-meta">
              <span><strong>Πεδίο:</strong> ${pdf.field}</span>
              ${pdf.specialty ? `<span class="specialty-badge">${pdf.specialty}</span>` : ''}
            </div>
            <div class="pdf-description">
              ${pdf.description || 'Οδηγός μηχανογραφικού'}
            </div>
          </div>
          
          <div class="pdf-actions">
            ${isBackendAvailable && pdf.id ? `
              <a href="/api/mixanografiko/view/${pdf.id}" target="_blank" class="btn-view"
                   onmouseover="this.style.background='#F7C19C'; this.style.color='#BC5E29'; this.style.boxShadow='0 0 0 2px rgba(183, 54, 22, 0.495)'"
                  onmouseout="this.style.background='#4d2c1e'; this.style.color='#fff'; this.style.boxShadow='none'"
                  style="background: #4d2c1e;
                    color: #fff;
                    border: none;
                    border-radius: 20px;
                    padding: 0.5rem 1.5rem;
                    font-weight: 700;
                    font-size:small;
                    cursor: pointer;
                    transition: all 0.2s;">Προβολή
              </a>
              <a href="/api/mixanografiko/download/${pdf.id}" download class="btn-download">
                 Λήψη
              </a>
            ` : `
              <button class="btn-view" onclick="showSampleAlert()"
                  onmouseover="this.style.background='#F7C19C'; this.style.color='#BC5E29'; this.style.boxShadow='0 0 0 2px rgba(183, 54, 22, 0.495)'"
                  onmouseout="this.style.background='#4d2c1e'; this.style.color='#fff'; this.style.boxShadow='none'"
                  style="background: #4d2c1e;
                    color: #fff;
                    border: none;
                    border-radius: 20px;
                    padding: 0.5rem 1.5rem;
                    font-weight: 700;
                    font-size:small;
                    cursor: pointer;
                    transition: all 0.2s;">Προβολή
              </button>
              <button class="btn-download" onclick="showSampleAlert()"
                  onmouseover="this.style.background='#FFC76C'; this.style.color='#C95A1F'; this.style.boxShadow='0 0 0 2px rgba(183, 54, 22, 0.495)'"
                  onmouseout="this.style.background='#ff7c4ce0'; this.style.color='#fff'; this.style.boxShadow='none'"
                  style="background: #ff7c4ce0;
                    color: #fff;
                    border: none;
                    border-radius: 20px;
                    padding: 0.5rem 1.5rem;
                    font-weight: 700;
                    font-size:small;
                    cursor: pointer;
                    transition: all 0.2s;">Λήψη
              </button>
            `}
          </div>
        </div>
      `).join('');
    }
    
    // Ειδοποίηση για sample data
    function showSampleAlert() {
      alert('Αυτό είναι δείγμα δεδομένων για επίδειξη.\n\nΓια πραγματική λειτουργία λήψης και προβολής αρχείων, παρακαλώ:\n1. Ενεργοποιήστε το backend server\n2. Ανεβάστε πραγματικά PDF αρχεία μέσω του admin panel');
    }
    
    // Εμφάνιση κατάστασης backend
    function showBackendStatus() {
      const backendStatus = document.getElementById('backend-status');
      const backendStatusText = document.getElementById('backend-status-text');
      
      if (!isBackendAvailable) {
        backendStatusText.textContent = 'Χρησιμοποιούνται δεδομένα επίδειξης. Για πλήρη λειτουργία ενεργοποιήστε το backend server.';
        backendStatus.style.display = 'block';
      } else {
        backendStatus.style.display = 'none';
      }
    }
    
    // Ενημέρωση πληροφοριών αρχείων
    function updateFilesInfo(count) {
      const filesInfo = document.getElementById('files-info');
      const filesCountText = document.getElementById('files-count-text');
      
      if (count > 0) {
        filesInfo.style.display = 'block';
        filesCountText.textContent = `Βρέθηκαν ${count} οδηγοί μηχανογραφικού`;
      } else {
        filesInfo.style.display = 'none';
      }
    }
    
    // --- ΝΕΟ JAVASCRIPT ΓΙΑ DROPDOWN ΦΙΛΤΡΑ ---
let currentFilters = {
  lykeio: '',
  field: '',
  specialty: ''
};

function filterPDFs() {
  let filteredPDFs = allPDFs.filter(pdf => {
    const matchesLykeio = !currentFilters.lykeio || pdf.lykeio === currentFilters.lykeio;
    const matchesField = !currentFilters.field || pdf.field === currentFilters.field;
    const matchesSpecialty = !currentFilters.specialty || pdf.specialty === currentFilters.specialty;
    return matchesLykeio && matchesField && matchesSpecialty;
  });
  displayPDFs(filteredPDFs);
  updateFilesInfo(filteredPDFs.length);
}

function clearAllFilters() {
  currentFilters = { lykeio: '', field: '', specialty: '' };
  document.getElementById('lykeio-btn').textContent = 'Τύπος Λυκείου';
  document.getElementById('field-btn').textContent = 'Πεδίο Σπουδών';
  document.getElementById('specialty-btn').textContent = 'Ειδικά Μαθήματα';
  filterPDFs();
}

document.querySelectorAll('.filter-button').forEach(button => {
  button.addEventListener('click', function(e) {
    e.stopPropagation();
    const options = document.getElementById(button.id.replace('-btn', '-options'));
    const isOpen = options.classList.contains('show');
    document.querySelectorAll('.filter-options').forEach(opt => opt.classList.remove('show'));
    document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
    if (!isOpen) {
      options.classList.add('show');
      button.classList.add('active');
    }
  });
});

document.addEventListener('click', function(e) {
  if (e.target.classList.contains('filter-option')) {
    const value = e.target.getAttribute('data-value');
    const filterType = e.target.closest('.filter-dropdown').querySelector('.filter-button').id.replace('-btn', '');
    currentFilters[filterType] = value;
    // Ενημέρωση button text
    if (value === '') {
      if (filterType === 'lykeio') document.getElementById('lykeio-btn').textContent = 'Τύπος Λυκείου';
      if (filterType === 'field') document.getElementById('field-btn').textContent = 'Πεδίο Σπουδών';
      if (filterType === 'specialty') document.getElementById('specialty-btn').textContent = 'Ειδικά Μαθήματα';
    } else {
      document.getElementById(filterType + '-btn').textContent = e.target.textContent;
    }
    filterPDFs();
    document.querySelectorAll('.filter-options').forEach(opt => opt.classList.remove('show'));
    document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
  }
  // Κλείσιμο dropdown όταν κάνεις click έξω
  if (!e.target.closest('.filter-dropdown')) {
    document.querySelectorAll('.filter-options').forEach(opt => opt.classList.remove('show'));
    document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
  }
});

document.getElementById('clear-filters-btn').addEventListener('click', clearAllFilters);

document.addEventListener('DOMContentLoaded', function() {
  filterPDFs();
});
  </script>

</body>
</html>
